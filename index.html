<html ng-app="myApp">
<head>
	<meta charset="UTF-8">
<<<<<<< HEAD
	<title>Contactate - Tu lista de contactos</title>
=======
	<title>Contactate-Mi Agenda de Contactos</title>
>>>>>>> origin/master
	<link rel="stylesheet" href="static/bootstrap/css/bootstrap.css">
	<link rel="stylesheet" href="static/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="static/bootstrap/css/bootstrap-theme.css">
	<link rel="stylesheet" href="static/bootstrap/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="css/style.css">
    <script src="static/jquery/dist/jquery.min.js"></script>
    <script src="static/jquery/dist/jquery.js"></script>
    <script src="static/bootstrap/js/bootstrap.min.js"></script>
    <script src="static/jquery-ui/js/jquery-1.8.3.min.js"></script>
    <script src="static/jquery-ui/js/jquery-ui-1.9.2.custom.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="js/bootstrap.js"></script>
	
</head>
<body  data-ng-controller="ContactContr" ng-init="cargarContactos()">
	<div class="container">
		<div class="panel panel-primary">
			<div class="panel-heading"><h4>Contactate</h4></div>
    			<div class="panel-body" style="height:160%">
    				<div class="wrapper">
						<div><label>BUSCAR: <input ng-model="filtro"></label><input type="button" value="Buscar" ng-click="cargarContactos()"></div>
						<table align="center">
							<tbody>
	    						<tr>
	        						<th>Id</th>
	        						<th>Nombre</th>
	        						<th>Apellido</th>
	        						<th>Alias</th>
	        						<th>Telefono</th>
	        						<th>Email</th>
	        						<th>Direccion</th>
									<th colspan="2">Acciones</th>
	    						</tr>
	    						<tr ng-repeat="person in contactos |orderBy: id">
	        						<td>{{person.id}}</td>
	        						<td>{{person.nombre}}</td>
	        						<td>{{person.apellido}}</td>
	        						<td>{{person.alias}}</td>
	        						<td>{{person.telefono}}</td>
	        						<td>{{person.email}}</td>
	        						<td>{{person.direccion}}</td>
	        						<td>
	        							<button class="btn btn-danger" ng-click="delete(person.id)" ng-confirm-click="Esta seguro que desea eliminar este elemento?">Eliminar<span class="glyphicon glyphicon-trash"></span></button></button>
										<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#editForm" ng-click="editar(person.id)"  >Editar Contacto<span class="glyphicon glyphicon-edit"></span></button>
										<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#detailForm" ng-click="detalles(person.id)">Ver Contacto<span class="glyphicon glyphicon-tasks"></span></button>
									</td>
									
		    					</tr>

							</tbody>
							<br></br>
								<button type="button" class="btn btn-info btn-md active" ng-click="firstPage()"  style="float: center;">Primera Pagina<span class="glyphicon glyphicon-backward"></span></button>
		    					<button type="button" class="btn btn-info btn-md active" ng-click="previousPage()"  style="float: center;">Anterior<span class="glyphicon glyphicon-fast-backward"></span></button>
								<button type="button" class="btn btn-info btn-md active" ng-click="nextPage()" style="float: center;">Siguiente<span class="glyphicon glyphicon-fast-forward"></span></button>
								<button type="button" class="btn btn-info btn-md active" ng-click="lastPage()" style="float: center;">Ultima Página<span class="glyphicon glyphicon-forward"></span></button>
								
								
						</table>
					</div>
					</br>
					<center><button class="btn btn-success" data-toggle="modal" data-target="#contacform">Agregar Contacto
					<span class="glyphicon glyphicon-plus"></span></button></button></center>
					<div class="modal fade" id="contacform" role="dialog">
						<div class="modal-dialog">
							<div class="modal-content">
			 					<div class="modal-header">
				 					<button type="button" class="close" data-dismiss="modal">&times;</button>
				 					<h2>Añadir Contacto</h2>
								</div>

								<form name="contactForm" novalidate>
									<div class="modal-body">

										Nombre
										<input class="form-control" type="text" name="nombre" ng-model="nuevoContacto.nombre" required></input>
										<span style="color:red" ng-show="contactForm.nombre.$invalid">
			 								<span ng-show="contactForm.nombre.$error.required">El nombre es requerido.</span>
										</span>
										</br>
										Apellido <input class="form-control" type="text" name="apellido" ng-model="nuevoContacto.apellido" required></input>
										<span style="color:red" ng-show="contactForm.apellido.$invalid">
											<span ng-show="contactForm.apellido.$error.required">El apellido es requerido.</span>
										</span>
		 								</br>
		 								Alias  <input class="form-control"  type="text" name="alias" ng-model="nuevoContacto.alias" ></input>
		 								</br>
		 								Telefono<input class="form-control"  type="number" name="telefono" ng-model="nuevoContacto.telefono" required></input>
		 								<span style="color:red" ng-show="contactForm.telefono.$invalid">
											<span ng-show="contactForm.telefono.$error.required">El telefono es requerido.</span>
										</span>
										</br>
										Correo Electrónico <input class="form-control"  type="email" name="email" ng-model="nuevoContacto.email" required></input>
										<span style="color:red" ng-show="contactForm.email.$invalid">
											<span ng-show="contactForm.email.$error.required">
			 								El email es requerido</span>
			 								<span ng-show="contactForm.email.$error.email">
										Ingrese un formato de email válido</span>
		 								</span>
										</br>

										Direccion<input class="form-control"  type="text" name="direccion" ng-model="nuevoContacto.direccion"></input>
		 							

										<div class="modal-footer">
											<button class="btn btn-success" type="submit"   id="guardar" ng-click="Guardar()" ng-disabled="contactForm.$invalid"  data-toggle="modal" data-dismiss="modal" >Crear</button>
											<button class="btn btn-default" type="button"   data-dismiss="modal">Cancelar</button>
										</div>
									</div>

								</form>
							</div>
						</div>
					</div>
					<div class="modal fade" id="editForm" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
								 	<div class="modal-header">
									 	<button type="button" class="close" data-dismiss="modal">&times;</button>
											<h2>Editar Contacto</h2>
									</div>
									<form name="personForm" novalidate>
										<div class="modal-body">
												<label>Id</label>
												<input class="form-control" type="text"  ng-model="datosModelo.id" disabled></input>
						
												</br>
												<label>Nombre</label>
												<input class="form-control" type="text" name="nombre" ng-model="datosModelo.nombre" required></input>
												<span style="color:red" ng-show="personForm.nombre.$invalid">
													<span ng-show="personForm.nombre.$error.required">El nombre es requerido.</span>
												</span>
												</br>
												<label>Apellido</label>
												<input class="form-control" type="text" name="apellido" ng-model="datosModelo.apellido" required></input>
												<span style="color:red" ng-show="personForm.apellido.$invalid">
													<span ng-show="personForm.apellido.$error.required">El apellido es requerido.</span>
												</span>
												</br>
												<label>Correo Electrónico</label>
												<input class="form-control"  type="email" name="mail" ng-model="datosModelo.email" required></input>
												<span style="color:red" ng-show="personForm.mail.$invalid">
												<span ng-show="personForm.mail.$error.required">
			 										El email es requerido</span>
			 										<span ng-show="personForm.mail.$error.email">
													Ingrese un formato de email válido</span>
		 										</span>
		 										</br>
		 										<label>Alias</label>
		 										<input class="form-control"  type="text" name="alias" ng-model="datosModelo.alias" ></input>
		 										</br>
		 										<label>Telefono</label>
		 										<input class="form-control"  type="numeric" name="telefono" ng-model="datosModelo.telefono" required></input>
		 										<span style="color:red" ng-show="personForm.telefono.$invalid">
													<span ng-show="personForm.telefono.$error.required">El telefono es requerido.</span>
												</span>
												</br>
												<label>Direccion</label>
												<input class="form-control"  type="text" name="direccion" ng-model="datosModelo.direccion"></input>
												<label>Fecha de Creacion</label>
												<input class="form-control" type="text"  ng-model="datosModelo.fechacreacion" disabled></input>
												
											<div class="modal-footer">
												<button class="btn btn-success" type="submit" ng-click="GuardarEdicion(datosModelo.id,datosModelo)" ng-disabled="personForm.$invalid" ng-confirm-edit-click="Desea guardar los cambios?" data-dismiss="modal" >Guardar Edicion</button>
												<button class="btn btn-default" type="button"   data-dismiss="modal">Cancelar</button>
											</div>

										</div>
									</form>
								</div>
							</div>
						</div>
								
						<div class="modal fade" id="detailForm" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
								 	<div class="modal-header">
									 	<button type="button" class="close" data-dismiss="modal">&times;</button>
											<h2>Detalles</h2>
									</div>
									<form name="personForm" novalidate>
										<div class="modal-body">
												<label>Id</label>
												<input class="form-control" type="text"  ng-model="datos.id" disabled></input>
						
												</br>
												<label>Nombre</label>
												<input class="form-control" type="text" name="nombre" ng-model="datos.nombre" disabled></input>
												
												</br>
												<label>Apellido</label>
												<input class="form-control" type="text" name="apellido" ng-model="datos.apellido" disabled></input>
												</br>
												<label>Correo Electrónico</label>
												<input class="form-control"  type="email" name="mail" ng-model="datos.email" disabled></input>
		 										</br>
		 										<label>Alias</label>
		 										<input class="form-control"  type="text" name="alias" ng-model="datos.alias" disabled></input>
		 										</br>
		 										<label>Telefono</label>
		 										<input class="form-control"  type="numeric" name="telefono" ng-model="datos.telefono" disabled></input>
												</br>
												<label>Direccion</label>
												<input class="form-control"  type="text" name="direccion" ng-model="datosModelo.direccion" disabled></input>
												<label>Fecha de Creacion</label>
												<input class="form-control" type="text"  ng-model="datos.fechacreacion" disabled></input>
												
											<div class="modal-footer">
												<button class="btn btn-danger" ng-click="delete(datos.id)" ng-confirm-click="Esta seguro que desea eliminar este elemento?" data-toggle="modal" data-dismiss="modal">Eliminar<span class="glyphicon glyphicon-trash"></span></button></button>
												<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#editForm" ng-click="editar(datos.id)" data-toggle="modal" >Editar Contacto<span class="glyphicon glyphicon-edit"></span></button>
												<button class="btn btn-default" type="button"   data-dismiss="modal">Cancelar</button>
											
											</div>

										</div>
									</form>
								</div>
							</div>
						</div>
					

					
    		</div>

    	
    		<div class="panel-footer">Desarrollado por Vanessa Leguizamon y Juanry Britez</div>
  		</div>
	</div>
	<script src="js/angular.min.js"></script>
 	<script src="js/scripts.js"></script>
 	<script src="js/contact_service.js"></script>
 	<script src="directives/ng-confirm-click.js"></script>
 	<script src="directives/ng-confirm-edit-click.js"></script>
 	<script type="text/javascript">
    $('#guardar').click(function(){
   setTimeout(function(){
       $('#editForm').modal('show');
   }, 2000);
	});
</script>
</body>
</html>
